(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5119048a"],{6249:function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"system-wrap"},[e._m(0),o("div",{staticClass:"ipList"},[o("el-form",{ref:"from1",staticClass:"demo-form-inline ip-form",attrs:{inline:!0,model:e.form1.ruleForm1,rules:e.form1.rules1}},[o("el-form-item",{attrs:{label:"SIP地址",prop:"sip_host_ip","show-overflow-tooltip":""}},[o("el-input",{attrs:{message:"SIP地址",placeholder:""},model:{value:e.form1.ruleForm1.sip_host_ip,callback:function(r){e.$set(e.form1.ruleForm1,"sip_host_ip",r)},expression:"form1.ruleForm1.sip_host_ip"}})],1),o("el-form-item",{attrs:{label:"SIP端口",prop:"sip_host_port"}},[o("el-input",{attrs:{message:"SIP端口",placeholder:"0"},model:{value:e.form1.ruleForm1.sip_host_port,callback:function(r){e.$set(e.form1.ruleForm1,"sip_host_port",e._n(r))},expression:"form1.ruleForm1.sip_host_port"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.onSubmit1("from1")}}},[e._v("保存")])],1)],1)],1),e._m(1),o("div",{staticClass:"ipList"},[o("el-form",{ref:"form2",staticClass:"demo-form-inline ip-form",attrs:{inline:!0,model:e.form2.ruleForm2,rules:e.form2.rules2}},[o("el-form-item",{attrs:{label:"云平台服务地址",prop:"platform_service_uri"}},[o("el-input",{attrs:{message:"TIRI地址",placeholder:"","show-overflow-tooltip":""},model:{value:e.form2.ruleForm2.platform_service_uri,callback:function(r){e.$set(e.form2.ruleForm2,"platform_service_uri",r)},expression:"form2.ruleForm2.platform_service_uri"}})],1),o("el-form-item",{attrs:{label:"本机设备编码",prop:"platform_device_code"}},[o("el-input",{attrs:{message:"本机设备编码",placeholder:""},model:{value:e.form2.ruleForm2.platform_device_code,callback:function(r){e.$set(e.form2.ruleForm2,"platform_device_code",r)},expression:"form2.ruleForm2.platform_device_code"}})],1),o("el-form-item",{attrs:{label:"用户名",prop:"platform_user_name"}},[o("el-input",{attrs:{message:"请输入用户名",placeholder:""},model:{value:e.form2.ruleForm2.platform_user_name,callback:function(r){e.$set(e.form2.ruleForm2,"platform_user_name",r)},expression:"form2.ruleForm2.platform_user_name"}})],1),o("el-form-item",{attrs:{label:"初始令牌环",prop:"platform_original_token"}},[o("el-input",{attrs:{message:"初始令牌环",placeholder:""},model:{value:e.form2.ruleForm2.platform_original_token,callback:function(r){e.$set(e.form2.ruleForm2,"platform_original_token",r)},expression:"form2.ruleForm2.platform_original_token"}})],1),o("el-form-item",{attrs:{label:"SM2私钥文件",prop:"platform_sm2_public_key_file"}},[o("el-input",{attrs:{message:"SM2私钥文件",placeholder:""},model:{value:e.form2.ruleForm2.platform_sm2_public_key_file,callback:function(r){e.$set(e.form2.ruleForm2,"platform_sm2_public_key_file",r)},expression:"form2.ruleForm2.platform_sm2_public_key_file"}})],1),o("el-form-item",{attrs:{label:"SM2公钥文件",prop:"platform_sm2_private_key_file"}},[o("el-input",{attrs:{message:"SM2公钥文件",placeholder:""},model:{value:e.form2.ruleForm2.platform_sm2_private_key_file,callback:function(r){e.$set(e.form2.ruleForm2,"platform_sm2_private_key_file",r)},expression:"form2.ruleForm2.platform_sm2_private_key_file"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.onSubmit2("form2")}}},[e._v("保存")])],1)],1)],1),e._m(2),o("div",{staticClass:"ipList"},[o("el-form",{ref:"form3",staticClass:"demo-form-inline ip-form",attrs:{inline:!0,model:e.form3.ruleForm3,rules:e.form3.rules3}},[o("el-form-item",{attrs:{label:"RTMP地址",prop:"local_rtmp_host_ip"}},[o("el-input",{attrs:{message:"RTMP地址",placeholder:""},model:{value:e.form3.ruleForm3.local_rtmp_host_ip,callback:function(r){e.$set(e.form3.ruleForm3,"local_rtmp_host_ip",r)},expression:"form3.ruleForm3.local_rtmp_host_ip"}})],1),o("el-form-item",{attrs:{label:"RTMP端口",prop:"local_rtmp_host_port"}},[o("el-input",{attrs:{message:"RTMP端口",placeholder:"0"},model:{value:e.form3.ruleForm3.local_rtmp_host_port,callback:function(r){e.$set(e.form3.ruleForm3,"local_rtmp_host_port",e._n(r))},expression:"form3.ruleForm3.local_rtmp_host_port"}})],1),o("el-form-item",{attrs:{label:"摄像机视频推流、断流",prop:"local_video_control"}},[o("el-checkbox",{model:{value:e.form3.video_control_checked,callback:function(r){e.$set(e.form3,"video_control_checked",r)},expression:"form3.video_control_checked"}})],1),o("el-form-item",{attrs:{label:"云台控制",prop:"local_yt_control"}},[o("el-checkbox",{model:{value:e.form3.yt_control_checked,callback:function(r){e.$set(e.form3,"yt_control_checked",r)},expression:"form3.yt_control_checked"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.onSubmit3("form3")}}},[e._v("保存")])],1)],1)],1),e._m(3),o("div",{staticClass:"ipList"},[o("el-form",{ref:"form4",staticClass:"demo-form-inline ip-form",attrs:{inline:!0,model:e.form4.ruleForm4,rules:e.form4.rules4}},[o("el-form-item",{attrs:{label:"SIP Catalog刷新间隔",prop:"sip_catalog_refresh_interval"}},[o("el-input",{attrs:{message:"",placeholder:"0"},model:{value:e.form4.ruleForm4.sip_catalog_refresh_interval,callback:function(r){e.$set(e.form4.ruleForm4,"sip_catalog_refresh_interval",e._n(r))},expression:"form4.ruleForm4.sip_catalog_refresh_interval"}})],1),o("span",{staticClass:"second"},[e._v("分钟")]),o("el-form-item",{attrs:{label:"摄像机状态刷新间隔",prop:"camera_status_refresh_interval"}},[o("el-input",{attrs:{message:"",placeholder:"0"},model:{value:e.form4.ruleForm4.camera_status_refresh_interval,callback:function(r){e.$set(e.form4.ruleForm4,"camera_status_refresh_interval",e._n(r))},expression:"form4.ruleForm4.camera_status_refresh_interval"}})],1),o("span",{staticClass:"second"},[e._v("分钟")]),o("el-form-item",{attrs:{label:"省（部）级云平台令牌刷新间隔",prop:"platform_token_refresh_interval"}},[o("el-input",{attrs:{message:"",placeholder:"0"},model:{value:e.form4.ruleForm4.platform_token_refresh_interval,callback:function(r){e.$set(e.form4.ruleForm4,"platform_token_refresh_interval",e._n(r))},expression:"form4.ruleForm4.platform_token_refresh_interval"}})],1),o("span",{staticClass:"second"},[e._v("分钟")]),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.onSubmit4("form4")}}},[e._v("保存")])],1)],1)],1),e._m(4),o("div",{staticClass:"ipList"},[o("el-form",{ref:"form5",staticClass:"demo-form-inline ip-form",attrs:{inline:!0,model:e.form5.ruleForm5,rules:e.form5.rules5}},[o("el-form-item",{attrs:{label:"新密码",prop:"admin_pwd"}},[o("el-input",{staticStyle:{border:"1px solid #fff",width:"250px"},attrs:{type:[e.flag?"text":"password"],placeholder:"请输入新密码"},model:{value:e.form5.ruleForm5.admin_pwd,callback:function(r){e.$set(e.form5.ruleForm5,"admin_pwd",r)},expression:"form5.ruleForm5.admin_pwd"}},[o("i",{class:[e.flag?"el-icon-minus":"el-icon-view"],staticStyle:{"margin-top":"8px","font-size":"18px"},attrs:{slot:"suffix",autocomplete:"auto"},on:{click:function(r){e.flag=!e.flag}},slot:"suffix"})])],1),o("el-form-item",{attrs:{label:"确认新密码",prop:"admin_pwd_confirm"}},[o("el-input",{staticStyle:{border:"1px solid #fff",width:"250px"},attrs:{type:[e.flag?"text":"password"],placeholder:"确认新密码"},model:{value:e.form5.ruleForm5.admin_pwd_confirm,callback:function(r){e.$set(e.form5.ruleForm5,"admin_pwd_confirm",r)},expression:"form5.ruleForm5.admin_pwd_confirm"}},[o("i",{class:[e.flag?"el-icon-minus":"el-icon-view"],staticStyle:{"margin-top":"8px","font-size":"18px"},attrs:{slot:"suffix",autocomplete:"auto"},on:{click:function(r){e.flag=!e.flag}},slot:"suffix"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.onSubmit5("form5")}}},[e._v("保存")])],1)],1)],1)])},l=[function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"show-title"},[o("span",[e._v("SIP服务")])])},function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"show-title"},[o("span",[e._v("省（部）级云平台")])])},function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"show-title"},[o("span",[e._v("本地RTMP发布服务")])])},function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"show-title"},[o("span",[e._v("定时任务")])])},function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"show-title"},[o("span",[e._v("修改密码")])])}],s=o("59f6"),i={data:function(){var e=this,r=function(e,r,o){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;if(!t.test(r)&&0!=r.length)return o(new Error("请输入正确的IP格式！"));o()},o=function(r,o,t){""===o?t(new Error("请输入密码")):(""!==e.form5.ruleForm5.admin_pwd&&e.$refs.form5.validateField("admin_pwd_confirm"),t())},t=function(r,o,t){""===o?t(new Error("请再次输入密码")):o!==e.form5.ruleForm5.admin_pwd?t(new Error("两次输入密码不一致!")):t()};return{flag:!1,form1:{ruleForm1:{sip_host_ip:"",sip_host_port:""},rules1:{sip_host_ip:[{required:!1,message:"",trigger:"blur"},{validator:r,trigger:"blur"}],sip_host_port:[{required:!1,message:""},{type:"number",message:"必须为数字值"}]}},form2:{ruleForm2:{platform_service_uri:"",platform_device_code:"",platform_user_name:"",platform_original_token:"",platform_sm2_public_key_file:"",platform_sm2_private_key_file:""},rules2:{platform_service_uri:[{required:!1,message:"",trigger:"blur"}],platform_device_code:[{required:!1,message:"",trigger:"blur"}],platform_user_name:[{required:!1,message:"",trigger:"blur"}],platform_original_token:[{required:!1,message:"",trigger:"blur"}],platform_sm2_public_key_file:[{required:!1,message:"",trigger:"blur"}],platform_sm2_private_key_file:[{required:!1,message:"",trigger:"blur"}]}},form3:{ruleForm3:{local_rtmp_host_ip:"",local_rtmp_host_port:""},rules3:{local_rtmp_host_ip:[{required:!1,message:"",trigger:"blur"},{validator:r,trigger:"blur"}],local_rtmp_host_port:[{required:!1,message:""},{type:"number",message:"必须为数字值"}]},video_control_checked:!1,yt_control_checked:!1},form4:{ruleForm4:{sip_catalog_refresh_interval:"",camera_status_refresh_interval:"",platform_token_refresh_interval:""},rules4:{sip_catalog_refresh_interval:[{required:!1,message:""},{type:"number",message:"必须为数字值"}],camera_status_refresh_interval:[{required:!1,message:""},{type:"number",message:"必须为数字值"}],platform_token_refresh_interval:[{required:!1,message:""},{type:"number",message:"必须为数字值"}]}},form5:{ruleForm5:{admin_pwd:"",admin_pwd_confirm:""},rules5:{admin_pwd:[{validator:o,trigger:"blur"}],admin_pwd_confirm:[{validator:t,trigger:"blur"}]}}}},mounted:function(){this.getSysconfig1(),this.getSysconfig2(),this.getSysconfig3(),this.getSysconfig4()},methods:{getSysconfig1:function(){var e=this,r=this,o=Date.parse(new Date);o/=1e3,Object(s["c"])("/web/sysconfig/get?timestamp="+o,{fields:"sipService"}).then((function(o){if(r.logining=!1,console.log(o),"0"==o.code){var t=o.data;e.form1.ruleForm1.sip_host_ip=t.sip_host_ip,e.form1.ruleForm1.sip_host_port=t.sip_host_port}else r.$message.error(o.code+"，"+o.msg)})).catch((function(e){r.$message.error(e.code+"，"+e.msg)}))},getSysconfig2:function(){var e=this,r=this;Object(s["c"])("/web/sysconfig/get",{fields:"platform"}).then((function(o){if(r.logining=!1,console.log(o),"0"==o.code){var t=o.data;e.form2.ruleForm2.platform_service_uri=t.platform_service_uri,e.form2.ruleForm2.platform_device_code=t.platform_device_code,e.form2.ruleForm2.platform_user_name=t.platform_user_name,e.form2.ruleForm2.platform_original_token=t.platform_original_token,e.form2.ruleForm2.platform_sm2_public_key_file=t.platform_sm2_public_key_file,e.form2.ruleForm2.platform_sm2_private_key_file=t.platform_sm2_private_key_file}else r.$message.error(o.code+"，"+o.msg)})).catch((function(e){r.$message.error(e.code+"，"+e.msg)}))},getSysconfig3:function(){var e=this,r=this;Object(s["c"])("/web/sysconfig/get",{fields:"localRtmp"}).then((function(o){if(r.logining=!1,console.log(o),"0"==o.code){var t=o.data;e.form3.ruleForm3.local_rtmp_host_ip=t.local_rtmp_host_ip,e.form3.ruleForm3.local_rtmp_host_port=t.local_rtmp_host_port,e.form3.video_control_checked=t.local_video_control,e.form3.yt_control_checked=t.local_yt_control}else r.$message.error(o.code+"，"+o.msg)})).catch((function(e){r.$message.error(e.code+"，"+e.msg)}))},getSysconfig4:function(){var e=this,r=this;Object(s["c"])("/web/sysconfig/get",{fields:"schedule"}).then((function(o){if(r.logining=!1,console.log(o),"0"==o.code){var t=o.data;e.form4.ruleForm4.sip_catalog_refresh_interval=t.sip_catalog_refresh_interval,e.form4.ruleForm4.camera_status_refresh_interval=t.camera_status_refresh_interval,e.form4.ruleForm4.platform_token_refresh_interval=t.platform_token_refresh_interval}else r.$message.error(o.code+"，"+o.msg)})).catch((function(e){r.$message.error(e.code+"，"+e.msg)}))},getSysconfig5:function(){var e=this;Object(s["c"])("/web/sysconfig/get",{fields:"admin"}).then((function(r){if(e.logining=!1,console.log(r),"0"==r.code)r.data;else e.$message.error(r.code+"，"+r.msg)})).catch((function(r){e.$message.error(r.code+"，"+r.msg)}))},onSubmit1:function(e){var r=this,o=this;o.logining=!0,o.$refs[e].validate((function(e){if(!e)return o.$message.error("error"),!1;Object(s["c"])("/web/sysconfig/set",{fields:"sipService",sip_host_ip:r.form1.ruleForm1.sip_host_ip,sip_host_port:r.form1.ruleForm1.sip_host_port}).then((function(e){o.logining=!1,console.log(e),"0"==e.code?o.$message.success("设置成功！"):o.$message.error(e.code+"，"+e.msg)})).catch((function(e){o.$message.error(e.code+"，"+e.msg)}))}))},onSubmit2:function(e){var r=this;console.log(e);var o=this;o.logining=!0,o.$refs[e].validate((function(e){if(!e)return o.$message.error("error"),!1;Object(s["c"])("/web/sysconfig/set",{fields:"platform",platform_service_uri:r.form2.ruleForm2.platform_service_uri,platform_device_code:r.form2.ruleForm2.platform_device_code,platform_user_name:r.form2.ruleForm2.platform_user_name,platform_original_token:r.form2.ruleForm2.platform_original_token,platform_sm2_public_key_file:r.form2.ruleForm2.platform_sm2_public_key_file,platform_sm2_private_key_file:r.form2.ruleForm2.platform_sm2_private_key_file}).then((function(e){o.logining=!1,console.log(e),"0"==e.code?o.$message.success("设置成功！"):o.$message.error(e.code+"，"+e.msg)})).catch((function(e){o.$message.error(e.code+"，"+e.msg)}))}))},onSubmit3:function(e){var r=this,o=this;o.logining=!0,o.$refs[e].validate((function(e){if(!e)return o.$message.error("error"),!1;Object(s["c"])("/web/sysconfig/set",{fields:"localRtmp",local_rtmp_host_ip:r.form3.ruleForm3.local_rtmp_host_ip,local_rtmp_host_port:r.form3.ruleForm3.local_rtmp_host_port,local_video_control:r.form3.video_control_checked,local_yt_control:r.form3.yt_control_checked}).then((function(e){o.logining=!1,console.log(e),"0"==e.code?o.$message.success("设置成功！"):o.$message.error(e.code+"，"+e.msg)})).catch((function(e){o.$message.error(e.code+"，"+e.msg)}))}))},onSubmit4:function(e){var r=this,o=this;o.logining=!0,o.$refs[e].validate((function(e){if(!e)return o.$message.error("error"),!1;Object(s["c"])("/web/sysconfig/set",{fields:"schedule",sip_catalog_refresh_interval:r.form4.ruleForm4.sip_catalog_refresh_interval,camera_status_refresh_interval:r.form4.ruleForm4.camera_status_refresh_interval,platform_token_refresh_interval:r.form4.ruleForm4.platform_token_refresh_interval}).then((function(e){o.logining=!1,console.log(e),"0"==e.code?o.$message.success("设置成功！"):o.$message.error(e.code+"，"+e.msg)})).catch((function(e){o.$message.error(e.code+"，"+e.msg)}))}))},onSubmit5:function(e){var r=this,o=this;o.logining=!0,o.$refs[e].validate((function(e){if(!e)return o.$message.error("error"),!1;Object(s["c"])("/web/sysconfig/set",{fields:"admin",admin_pwd:r.form5.ruleForm5.admin_pwd}).then((function(e){o.logining=!1,console.log(e),"0"==e.code?o.$message.success("设置成功！"):o.$message.error(e.code+"，"+e.msg)})).catch((function(e){o.$message.error(e.code+"，"+e.msg)}))}))}}},a=i,m=(o("9022"),o("2877")),n=Object(m["a"])(a,t,l,!1,null,"de9b0bd2",null);r["default"]=n.exports},9022:function(e,r,o){"use strict";var t=o("c8c6"),l=o.n(t);l.a},c8c6:function(e,r,o){}}]);
//# sourceMappingURL=chunk-5119048a.b9c8ff4a.js.map