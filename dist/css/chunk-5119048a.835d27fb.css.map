{"version":3,"sources":["webpack:///src/views/SystemConfig/src/views/SystemConfig/SystemConfig.vue"],"names":[],"mappings":"AA8qBA,6BACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CACA,mBAAA,CACA,2BACA,CAEA,oCACA,UAAA,CACA,SAAA,CACA,WAAA,CAEA,kBAAA,CACA,iBAAA,CACA,OAAA,CACA,SACA,CAEA,kCACA,aAAA,CACA,gBACA,CAEA,yBACA,aACA,CAwBA,4CACA,2BACA,CACA,yBACA,aAAA,CACA,cAAA,CACA,gBAAA,CACA,iBACA","file":"chunk-5119048a.835d27fb.css","sourcesContent":["<template>\r\n  <div class=\"system-wrap\">\r\n    <!-- SIP服务 -->\r\n    <div class=\"show-title\">\r\n      <span>SIP服务</span>\r\n    </div>\r\n    <div class=\"ipList\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form1.ruleForm1\"\r\n        ref=\"from1\"\r\n        :rules=\"form1.rules1\"\r\n        class=\"demo-form-inline ip-form\"\r\n      >\r\n        <el-form-item label=\"SIP地址\" prop=\"sip_host_ip\" show-overflow-tooltip>\r\n          <el-input v-model=\"form1.ruleForm1.sip_host_ip\" message=\"SIP地址\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"SIP端口\" prop=\"sip_host_port\">\r\n          <el-input v-model.number=\"form1.ruleForm1.sip_host_port\" message=\"SIP端口\" placeholder=\"0\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSubmit1('from1')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- 省（部）级云平台 -->\r\n    <div class=\"show-title\">\r\n      <span>省（部）级云平台</span>\r\n    </div>\r\n    <div class=\"ipList\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form2.ruleForm2\"\r\n        ref=\"form2\"\r\n        :rules=\"form2.rules2\"\r\n        class=\"demo-form-inline ip-form\"\r\n      >\r\n        <el-form-item label=\"云平台服务地址\" prop=\"platform_service_uri\">\r\n          <el-input\r\n            v-model=\"form2.ruleForm2.platform_service_uri\"\r\n            message=\"TIRI地址\"\r\n            placeholder\r\n            show-overflow-tooltip\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"本机设备编码\" prop=\"platform_device_code\">\r\n          <el-input v-model=\"form2.ruleForm2.platform_device_code\" message=\"本机设备编码\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"platform_user_name\">\r\n          <el-input v-model=\"form2.ruleForm2.platform_user_name\" message=\"请输入用户名\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"初始令牌环\" prop=\"platform_original_token\">\r\n          <el-input v-model=\"form2.ruleForm2.platform_original_token\" message=\"初始令牌环\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"SM2私钥文件\" prop=\"platform_sm2_public_key_file\">\r\n          <el-input\r\n            v-model=\"form2.ruleForm2.platform_sm2_public_key_file\"\r\n            message=\"SM2私钥文件\"\r\n            placeholder\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"SM2公钥文件\" prop=\"platform_sm2_private_key_file\">\r\n          <el-input\r\n            v-model=\"form2.ruleForm2.platform_sm2_private_key_file\"\r\n            message=\"SM2公钥文件\"\r\n            placeholder\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSubmit2('form2')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- 本地RTMP发布服务 -->\r\n    <div class=\"show-title\">\r\n      <span>本地RTMP发布服务</span>\r\n    </div>\r\n    <div class=\"ipList\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form3.ruleForm3\"\r\n        ref=\"form3\"\r\n        :rules=\"form3.rules3\"\r\n        class=\"demo-form-inline ip-form\"\r\n      >\r\n        <el-form-item label=\"RTMP地址\" prop=\"local_rtmp_host_ip\">\r\n          <el-input v-model=\"form3.ruleForm3.local_rtmp_host_ip\" message=\"RTMP地址\" placeholder></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"RTMP端口\" prop=\"local_rtmp_host_port\">\r\n          <el-input\r\n            v-model.number=\"form3.ruleForm3.local_rtmp_host_port\"\r\n            message=\"RTMP端口\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"摄像机视频推流、断流\" prop=\"local_video_control\">\r\n          <el-checkbox v-model=\"form3.video_control_checked\"></el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item label=\"云台控制\" prop=\"local_yt_control\">\r\n          <el-checkbox v-model=\"form3.yt_control_checked\"></el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSubmit3('form3')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- 定时任务 -->\r\n    <div class=\"show-title\">\r\n      <span>定时任务</span>\r\n    </div>\r\n    <div class=\"ipList\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form4.ruleForm4\"\r\n        ref=\"form4\"\r\n        :rules=\"form4.rules4\"\r\n        class=\"demo-form-inline ip-form\"\r\n      >\r\n        <el-form-item label=\"SIP Catalog刷新间隔\" prop=\"sip_catalog_refresh_interval\">\r\n          <el-input\r\n            v-model.number=\"form4.ruleForm4.sip_catalog_refresh_interval\"\r\n            message\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <span class=\"second\">分钟</span>\r\n        <el-form-item label=\"摄像机状态刷新间隔\" prop=\"camera_status_refresh_interval\">\r\n          <el-input\r\n            v-model.number=\"form4.ruleForm4.camera_status_refresh_interval\"\r\n            message\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <span class=\"second\">分钟</span>\r\n        <el-form-item label=\"省（部）级云平台令牌刷新间隔\" prop=\"platform_token_refresh_interval\">\r\n          <el-input\r\n            v-model.number=\"form4.ruleForm4.platform_token_refresh_interval\"\r\n            message\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <span class=\"second\">分钟</span>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSubmit4('form4')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- 修改密码 -->\r\n    <div class=\"show-title\">\r\n      <span>修改密码</span>\r\n    </div>\r\n    <div class=\"ipList\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form5.ruleForm5\"\r\n        ref=\"form5\"\r\n        :rules=\"form5.rules5\"\r\n        class=\"demo-form-inline ip-form\"\r\n      >\r\n        <el-form-item label=\"新密码\" prop=\"admin_pwd\">\r\n          <el-input\r\n            v-model=\"form5.ruleForm5.admin_pwd\"\r\n            :type=\"[flag?'text':'password']\"\r\n            style=\"border:1px solid #fff;width:250px;\"\r\n            placeholder=\"请输入新密码\"\r\n          >\r\n            <i\r\n              slot=\"suffix\"\r\n              :class=\"[flag?'el-icon-minus':'el-icon-view']\"\r\n              style=\"margin-top:8px;font-size:18px;\"\r\n              autocomplete=\"auto\"\r\n              @click=\"flag=!flag\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认新密码\" prop=\"admin_pwd_confirm\">\r\n          <!-- <el-input v-model=\"form5.ruleForm5.admin_pwd_confirm\" message placeholder></el-input> -->\r\n          <el-input\r\n            v-model=\"form5.ruleForm5.admin_pwd_confirm\"\r\n            :type=\"[flag?'text':'password']\"\r\n            style=\"border:1px solid #fff;width:250px;\"\r\n            placeholder=\"确认新密码\"\r\n          >\r\n            <i\r\n              slot=\"suffix\"\r\n              :class=\"[flag?'el-icon-minus':'el-icon-view']\"\r\n              style=\"margin-top:8px;font-size:18px;\"\r\n              autocomplete=\"auto\"\r\n              @click=\"flag=!flag\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSubmit5('form5')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getData, postData } from \"../../utils/request/http\";\r\n\r\nexport default {\r\n  data() {\r\n    /*ip正则验证*/\r\n    var validcodeip = (rule, value, callback) => {\r\n      const reg = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\r\n      if (reg.test(value) || value.length == 0) {\r\n        callback();\r\n      } else {\r\n        return callback(new Error(\"请输入正确的IP格式！\"));\r\n      }\r\n    };\r\n    // 密码\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        if (this.form5.ruleForm5.admin_pwd !== \"\") {\r\n          this.$refs.form5.validateField(\"admin_pwd_confirm\");\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    // 确认密码\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请再次输入密码\"));\r\n      } else if (value !== this.form5.ruleForm5.admin_pwd) {\r\n        callback(new Error(\"两次输入密码不一致!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      flag: false,\r\n      //SIP服务\r\n      form1: {\r\n        ruleForm1: {\r\n          sip_host_ip: \"\",\r\n          sip_host_port: \"\"\r\n        },\r\n        rules1: {\r\n          sip_host_ip: [\r\n            { required: false, message: \"\", trigger: \"blur\" },\r\n            { validator: validcodeip, trigger: \"blur\" }\r\n          ],\r\n          sip_host_port: [\r\n            { required: false, message: \"\" },\r\n            { type: \"number\", message: \"必须为数字值\" }\r\n          ]\r\n        }\r\n      },\r\n      //省（部）级云平台\r\n      form2: {\r\n        ruleForm2: {\r\n          platform_service_uri: \"\",\r\n          platform_device_code: \"\",\r\n          platform_user_name: \"\",\r\n          platform_original_token: \"\",\r\n          platform_sm2_public_key_file: \"\",\r\n          platform_sm2_private_key_file: \"\"\r\n        },\r\n        rules2: {\r\n          platform_service_uri: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ],\r\n          platform_device_code: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ],\r\n          platform_user_name: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ],\r\n          platform_original_token: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ],\r\n          platform_sm2_public_key_file: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ],\r\n          platform_sm2_private_key_file: [\r\n            {\r\n              required: false,\r\n              message: \"\",\r\n              trigger: \"blur\"\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      //本地RTMP发布服务\r\n      form3: {\r\n        ruleForm3: {\r\n          local_rtmp_host_ip: \"\",\r\n          local_rtmp_host_port: \"\"\r\n        },\r\n        rules3: {\r\n          local_rtmp_host_ip: [\r\n            { required: false, message: \"\", trigger: \"blur\" },\r\n            { validator: validcodeip, trigger: \"blur\" }\r\n          ],\r\n          local_rtmp_host_port: [\r\n            { required: false, message: \"\" },\r\n            { type: \"number\", message: \"必须为数字值\" }\r\n          ]\r\n        },\r\n        video_control_checked: false,\r\n        yt_control_checked: false //云台控制\r\n      },\r\n      //定时任务\r\n      form4: {\r\n        ruleForm4: {\r\n          sip_catalog_refresh_interval: \"\",\r\n          camera_status_refresh_interval: \"\",\r\n          platform_token_refresh_interval: \"\"\r\n        },\r\n        rules4: {\r\n          sip_catalog_refresh_interval: [\r\n            { required: false, message: \"\" },\r\n            { type: \"number\", message: \"必须为数字值\" }\r\n          ],\r\n          camera_status_refresh_interval: [\r\n            { required: false, message: \"\" },\r\n            { type: \"number\", message: \"必须为数字值\" }\r\n          ],\r\n          platform_token_refresh_interval: [\r\n            { required: false, message: \"\" },\r\n            { type: \"number\", message: \"必须为数字值\" }\r\n          ]\r\n        }\r\n      },\r\n      //修改密码\r\n      form5: {\r\n        ruleForm5: {\r\n          admin_pwd: \"\",\r\n          admin_pwd_confirm: \"\"\r\n        },\r\n        rules5: {\r\n          admin_pwd: [{ validator: validatePass, trigger: \"blur\" }],\r\n          admin_pwd_confirm: [{ validator: validatePass2, trigger: \"blur\" }]\r\n        }\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getSysconfig1();\r\n    this.getSysconfig2();\r\n    this.getSysconfig3();\r\n    this.getSysconfig4();\r\n    //this.getSysconfig5();\r\n  },\r\n  methods: {\r\n    /*\r\n       @Desc: 获取系统配置 1\r\n       @Author: HHH , @Date: 2020-08-11 14:18:47\r\n      */\r\n    getSysconfig1() {\r\n      var that = this;\r\n      //获取当前时间戳\r\n      var timestamp = Date.parse(new Date());\r\n      timestamp = timestamp / 1000;\r\n      postData(\"/web/sysconfig/get?timestamp=\" + timestamp, {\r\n        fields: \"sipService\"\r\n      })\r\n        .then(res => {\r\n          that.logining = false;\r\n          console.log(res);\r\n          if (res.code == \"0\") {\r\n            let datas = res.data;\r\n            this.form1.ruleForm1.sip_host_ip = datas.sip_host_ip;\r\n            this.form1.ruleForm1.sip_host_port = datas.sip_host_port;\r\n          } else {\r\n            that.$message.error(res.code + \"，\" + res.msg);\r\n          }\r\n        })\r\n        .catch(res => {\r\n          that.$message.error(res.code + \"，\" + res.msg);\r\n        });\r\n    },\r\n    /*\r\n       @Desc: 获取系统配置 2\r\n       @Author: HHH , @Date: 2020-08-11 14:18:47\r\n      */\r\n    getSysconfig2() {\r\n      var that = this;\r\n      postData(\"/web/sysconfig/get\", {\r\n        fields: \"platform\"\r\n      })\r\n        .then(res => {\r\n          that.logining = false;\r\n          console.log(res);\r\n          if (res.code == \"0\") {\r\n            let datas = res.data;\r\n            this.form2.ruleForm2.platform_service_uri =\r\n              datas.platform_service_uri;\r\n            this.form2.ruleForm2.platform_device_code =\r\n              datas.platform_device_code;\r\n            this.form2.ruleForm2.platform_user_name = datas.platform_user_name;\r\n            this.form2.ruleForm2.platform_original_token =\r\n              datas.platform_original_token;\r\n            this.form2.ruleForm2.platform_sm2_public_key_file =\r\n              datas.platform_sm2_public_key_file;\r\n            this.form2.ruleForm2.platform_sm2_private_key_file =\r\n              datas.platform_sm2_private_key_file;\r\n          } else {\r\n            that.$message.error(res.code + \"，\" + res.msg);\r\n          }\r\n        })\r\n        .catch(res => {\r\n          that.$message.error(res.code + \"，\" + res.msg);\r\n        });\r\n    },\r\n    /*\r\n       @Desc: 获取系统配置 3\r\n       @Author: HHH , @Date: 2020-08-11 14:18:47\r\n      */\r\n    getSysconfig3() {\r\n      var that = this;\r\n      postData(\"/web/sysconfig/get\", {\r\n        fields: \"localRtmp\"\r\n      })\r\n        .then(res => {\r\n          that.logining = false;\r\n          console.log(res);\r\n          if (res.code == \"0\") {\r\n            let datas = res.data;\r\n            this.form3.ruleForm3.local_rtmp_host_ip = datas.local_rtmp_host_ip;\r\n            this.form3.ruleForm3.local_rtmp_host_port =\r\n              datas.local_rtmp_host_port;\r\n            this.form3.video_control_checked = datas.local_video_control;\r\n            this.form3.yt_control_checked = datas.local_yt_control;\r\n          } else {\r\n            that.$message.error(res.code + \"，\" + res.msg);\r\n          }\r\n        })\r\n        .catch(res => {\r\n          that.$message.error(res.code + \"，\" + res.msg);\r\n        });\r\n    },\r\n    /*\r\n       @Desc: 获取系统配置 4\r\n       @Author: HHH , @Date: 2020-08-11 14:18:47\r\n      */\r\n    getSysconfig4() {\r\n      var that = this;\r\n      postData(\"/web/sysconfig/get\", {\r\n        fields: \"schedule\"\r\n      })\r\n        .then(res => {\r\n          that.logining = false;\r\n          console.log(res);\r\n          if (res.code == \"0\") {\r\n            let datas = res.data;\r\n            this.form4.ruleForm4.sip_catalog_refresh_interval =\r\n              datas.sip_catalog_refresh_interval;\r\n            this.form4.ruleForm4.camera_status_refresh_interval =\r\n              datas.camera_status_refresh_interval;\r\n            this.form4.ruleForm4.platform_token_refresh_interval =\r\n              datas.platform_token_refresh_interval;\r\n          } else {\r\n            that.$message.error(res.code + \"，\" + res.msg);\r\n          }\r\n        })\r\n        .catch(res => {\r\n          that.$message.error(res.code + \"，\" + res.msg);\r\n        });\r\n    },\r\n    /*\r\n     @Desc: 获取密码展示\r\n     @Author: HHH , @Date: 2020-08-13 11:05:47\r\n    */\r\n    getSysconfig5() {\r\n      var that = this;\r\n      postData(\"/web/sysconfig/get\", {\r\n        fields: \"admin\"\r\n      })\r\n        .then(res => {\r\n          that.logining = false;\r\n          console.log(res);\r\n          if (res.code == \"0\") {\r\n            let datas = res.data;\r\n          } else {\r\n            that.$message.error(res.code + \"，\" + res.msg);\r\n          }\r\n        })\r\n        .catch(res => {\r\n          that.$message.error(res.code + \"，\" + res.msg);\r\n        });\r\n    },\r\n    /*\r\n    @Desc: SIP服务提交\r\n    @Author: HHH , @Date: 2020-08-11 13:34:19\r\n   */\r\n    onSubmit1(formName) {\r\n      var that = this;\r\n      that.logining = true;\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          postData(\"/web/sysconfig/set\", {\r\n            fields: \"sipService\",\r\n            sip_host_ip: this.form1.ruleForm1.sip_host_ip,\r\n            sip_host_port: this.form1.ruleForm1.sip_host_port\r\n          })\r\n            .then(res => {\r\n              that.logining = false;\r\n              console.log(res);\r\n              if (res.code == \"0\") {\r\n                that.$message.success(\"设置成功！\");\r\n              } else {\r\n                that.$message.error(res.code + \"，\" + res.msg);\r\n              }\r\n            })\r\n            .catch(res => {\r\n              that.$message.error(res.code + \"，\" + res.msg);\r\n            });\r\n        } else {\r\n          that.$message.error(\"error\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    /*\r\n    @Desc: 省（部）级云平台\r\n    @Author: HHH , @Date: 2020-08-11 13:34:19\r\n   */\r\n    onSubmit2(formName) {\r\n      console.log(formName);\r\n      var that = this;\r\n      that.logining = true;\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          postData(\"/web/sysconfig/set\", {\r\n            fields: \"platform\",\r\n            platform_service_uri: this.form2.ruleForm2.platform_service_uri,\r\n            platform_device_code: this.form2.ruleForm2.platform_device_code,\r\n            platform_user_name: this.form2.ruleForm2.platform_user_name,\r\n            platform_original_token: this.form2.ruleForm2\r\n              .platform_original_token,\r\n            platform_sm2_public_key_file: this.form2.ruleForm2\r\n              .platform_sm2_public_key_file,\r\n            platform_sm2_private_key_file: this.form2.ruleForm2\r\n              .platform_sm2_private_key_file\r\n          })\r\n            .then(res => {\r\n              that.logining = false;\r\n              console.log(res);\r\n              if (res.code == \"0\") {\r\n                that.$message.success(\"设置成功！\");\r\n              } else {\r\n                that.$message.error(res.code + \"，\" + res.msg);\r\n              }\r\n            })\r\n            .catch(res => {\r\n              that.$message.error(res.code + \"，\" + res.msg);\r\n            });\r\n        } else {\r\n          that.$message.error(\"error\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    /*\r\n    @Desc: 本地RTMP发布服务   提交\r\n    @Author: HHH , @Date: 2020-08-11 13:34:19\r\n   */\r\n    onSubmit3(formName) {\r\n      var that = this;\r\n      that.logining = true;\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          postData(\"/web/sysconfig/set\", {\r\n            fields: \"localRtmp\",\r\n            local_rtmp_host_ip: this.form3.ruleForm3.local_rtmp_host_ip,\r\n            local_rtmp_host_port: this.form3.ruleForm3.local_rtmp_host_port,\r\n            local_video_control: this.form3.video_control_checked,\r\n            local_yt_control: this.form3.yt_control_checked\r\n          })\r\n            .then(res => {\r\n              that.logining = false;\r\n              console.log(res);\r\n              if (res.code == \"0\") {\r\n                that.$message.success(\"设置成功！\");\r\n              } else {\r\n                that.$message.error(res.code + \"，\" + res.msg);\r\n              }\r\n            })\r\n            .catch(res => {\r\n              that.$message.error(res.code + \"，\" + res.msg);\r\n            });\r\n        } else {\r\n          that.$message.error(\"error\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    /*\r\n    @Desc: 定时任务 提交\r\n    @Author: HHH , @Date: 2020-08-11 13:34:19\r\n   */\r\n    onSubmit4(formName) {\r\n      var that = this;\r\n      that.logining = true;\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          postData(\"/web/sysconfig/set\", {\r\n            fields: \"schedule\",\r\n            sip_catalog_refresh_interval: this.form4.ruleForm4\r\n              .sip_catalog_refresh_interval,\r\n            camera_status_refresh_interval: this.form4.ruleForm4\r\n              .camera_status_refresh_interval,\r\n            platform_token_refresh_interval: this.form4.ruleForm4\r\n              .platform_token_refresh_interval\r\n          })\r\n            .then(res => {\r\n              that.logining = false;\r\n              console.log(res);\r\n              if (res.code == \"0\") {\r\n                that.$message.success(\"设置成功！\");\r\n              } else {\r\n                that.$message.error(res.code + \"，\" + res.msg);\r\n              }\r\n            })\r\n            .catch(res => {\r\n              that.$message.error(res.code + \"，\" + res.msg);\r\n            });\r\n        } else {\r\n          that.$message.error(\"error\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    /*\r\n    @Desc: 修改密码 提交\r\n    @Author: HHH , @Date: 2020-08-11 13:34:19\r\n   */\r\n    onSubmit5(formName) {\r\n      var that = this;\r\n      that.logining = true;\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          postData(\"/web/sysconfig/set\", {\r\n            fields: \"admin\",\r\n            admin_pwd: this.form5.ruleForm5.admin_pwd\r\n          })\r\n            .then(res => {\r\n              that.logining = false;\r\n              console.log(res);\r\n              if (res.code == \"0\") {\r\n                that.$message.success(\"设置成功！\");\r\n              } else {\r\n                that.$message.error(res.code + \"，\" + res.msg);\r\n              }\r\n            })\r\n            .catch(res => {\r\n              that.$message.error(res.code + \"，\" + res.msg);\r\n            });\r\n        } else {\r\n          that.$message.error(\"error\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n/*标题*/\r\n.show-title {\r\n  width: 100%;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  position: relative;\r\n  background: #bed7da;\r\n  padding-left: 15px;\r\n  font-size: 14px;\r\n  margin: 6px 0 10px 0;\r\n  border-radius: 10px 10px 0 0;\r\n}\r\n\r\n.show-title::before {\r\n  content: \"\";\r\n  width: 2px;\r\n  height: 12px;\r\n  /* background: #29c0b7; */\r\n  background: #676a6d;\r\n  position: absolute;\r\n  top: 9px;\r\n  left: 27px;\r\n}\r\n\r\n.show-title span {\r\n  color: #676a6d;\r\n  margin-left: 25px;\r\n}\r\n/* ip列表 */\r\n.ipList {\r\n  margin: 30px 0;\r\n}\r\n\r\n/* 更改form表单默认样式,表头 */\r\n/* .system-wrap >>> .el-table--border th,\r\n.el-table__fixed-right-patch {\r\n  background: #c0dee2;\r\n}\r\n\r\n.system-wrap >>> .el-table .cell,\r\n.el-table--border td:first-child .cell,\r\n.el-table--border th:first-child .cell {\r\n  padding-left: 10px;\r\n  text-align: center;\r\n}\r\n.system-wrap >>> .demo-form-inline {\r\n  width: 96%;\r\n  margin: 0 auto;\r\n  margin-top: 35px;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #c0dee2;\r\n  box-shadow: 0px 3px 1px #ceece8;\r\n  border-radius: 25px;\r\n} */\r\n.system-wrap >>> .el-form-item {\r\n  margin-right: 20px !important;\r\n}\r\n.second {\r\n  color: #676a6d;\r\n  font-size: 15px;\r\n  line-height: 40px;\r\n  margin-right: 30px;\r\n}\r\n</style>\r\n"]}